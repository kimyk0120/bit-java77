<!-- 
	$.ajax({options})
	
	url  : 호출할 URL
	type : GET, POST 방식 지정
	data : 파라미터
	dataType : 응답되는 데이터의 형태
	
	// 1.7 까지 사용
	success : 응답이 성공했을 때 호출
	error   : 에러 발생시 호출
	
	// 1.8 부터 사용 권장
	done   : 응답 성공시 호출
	fail   : 에러 발생시 호출
	always : 항상 호출
 -->
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="../jquery-2.2.0.js"></script>
<script>
$(document).ready(function () {
	$("button").click(function () {
// 		//1. url, type 속성 사용
// 	    $.ajax({
// 			url: "data/test.html",
// 			type: "GET"
// 		})
// 		.done(function (data) {
// 			$("#resultDiv").html(data);
// 		});

	 
//	 	2. done 
//	 	   - data : 실행 결과
//	 	   - status : 실행 결과 메시지
//	 	   - jqXHR  : XMLHttpRequest 객체
	 	   
//	 	   dataType : 실행 결과의 문서 타입
	 	   
// 	 	$.ajax({
// 			url: "data/test.html",
// 			type: "POST",
// 			dataType: "html"    // json, xml, html
// 		})
// 		.done(function (data, status, jqXHR) {
// 			$("#resultDiv").html(data);
// 			console.log("status", status);
// 			console.log("jqXHR");
// 			console.log(jqXHR);
// 		});

// 	 	3. fail 
// 	 	   - jqXHR : XMLHttpRequest 객체
// 	 	   - textStatus : error 문자열
// 	 	   - errorText : 실제 발생된 에러의 내용을 반환
	 	
// 	 	$.ajax({
// 			url: "data/test1.html",  // 오류 발생 테스트
// // 			url: "data/test.html",
// 			type: "POST",
// 			dataType: "html"    // json, xml, html
// 		})
// 		.done(function (data, status, jqXHR) {
// 			$("#resultDiv").html(data);
// 			console.log("status", status);
// 			console.log("jqXHR");
// 			console.log(jqXHR);
// 		})
// 		.fail(function (jqXHR, textStatus, errorText) {
// 			console.log("jqXHR");
// 			console.log(jqXHR);
// 			console.log("textStatus", textStatus);
// 			console.log("errorText", errorText);
// 		});

	 	
//	 	4. data : 파라미터 값을 설정할 때
	 	
// 	 	$.ajax({
// 			url: "data/param.jsp",
// 			type: "POST",
// 			data: {id: "tester", name: "테스터"},
// 			dataType: "html"    
// 		})
// 		.done(function (data, status, jqXHR) {
// 			$("#resultDiv").html(data);
// 			console.log("status", status);
// 			console.log("jqXHR");
// 			console.log(jqXHR);
// 		})
// 		.fail(function (jqXHR, textStatus, errorText) {
// 			console.log("jqXHR");
// 			console.log(jqXHR);
// 			console.log("textStatus", textStatus);
// 			console.log("errorText", errorText);
// 		});

	 	
// 	 	5. dataType
// 	 	   - json : 데이터가 json 형태의 문자열일 경우 사용
// 	 	          : 자동으로 문자열을 json 객체로 변환시킨다.
// 	 	   - xml  : 데이터가 xml 형태의 문자열일 경우
// 	 	          : 자동으로 문자열을 dom 객체로 변환시킨다.
// 	 	   - html       
	 	
// 	 	$.ajax({
// 			url: "data/resJson.jsp",
// 			type: "GET",
// 			dataType: "json"    
// 		})
// 		.done(function (data, status, jqXHR) {
// 			console.log(data);
// 			$("#resultDiv").html(
// 				"name : " + data.name + "<br />" +
// 				"age :  " + data.age  + "<br />" +
// 				"addr : " + data.addr
// 			);
// 		});

	 	
// 	 	6. always 
// 	 	   - 무조건 실행하는 함수
	 	
	 	$.ajax({
			url: "data/resJson.jsp",
			type: "GET",
			dataType: "json"    
		})
		.done(function (data, status, jqXHR) {
			console.log(data);
			$("#resultDiv").html(
				"name : " + data.name + "<br />" +
				"age :  " + data.age  + "<br />" +
				"addr : " + data.addr
			);
		})
		.always(function () {
			alert("무조건 실행함..");
		});
	 	
	  
	});
});
</script>
</head>
<body>
	<button>Ajax 호출</button>
	<div id="resultDiv"></div>
</body>
</html>









